<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Artnet Aquatic UI</title>

  <style>
    :root{
      --bg0:#02040a;
      --bg1:#061633;
      --bg2:#0a2b4e;

      --bubble: rgba(255,255,255,.06);
      --bubble2: rgba(160,220,255,.10);
      --rim: rgba(200,240,255,.35);
      --shine: rgba(255,255,255,.55);

      --shadow: rgba(0,0,0,.65);

      --waterA: rgba(40,170,255,.20);
      --waterB: rgba(10,90,170,.35);
      --waterC: rgba(0,30,60,.55);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}

    body{
      overflow:hidden;
      background:
        radial-gradient(1200px 800px at 30% 20%, rgba(70,170,255,.22), transparent 60%),
        radial-gradient(900px 700px at 80% 70%, rgba(20,120,255,.18), transparent 55%),
        radial-gradient(900px 700px at 50% 105%, rgba(0,40,70,.55), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg0));
      position:relative;
      font-family: system-ui, -apple-system, Segoe UI, sans-serif;
    }

    /* ===== Fantasia fish-tank mini-sea at the bottom ===== */
    .tank{
      position:absolute;
      left:0; right:0; bottom:0;
      height:38vh;
      pointer-events:none;
      z-index:0;
    }

    /* Water body */
    .water{
      position:absolute; inset:0;
      background:
        radial-gradient(900px 500px at 20% 30%, rgba(120,240,255,.12), transparent 60%),
        radial-gradient(700px 420px at 80% 40%, rgba(80,200,255,.10), transparent 55%),
        linear-gradient(180deg, rgba(30,140,220,.18), rgba(0,25,45,.55));
      opacity:.92;
      filter:saturate(1.15);
    }

    /* Waterline / surface shimmer */
    .waterline{
      position:absolute;
      left:-10%;
      right:-10%;
      top:10%;
      height:28%;
      opacity:.55;
      mix-blend-mode: screen;
      filter: blur(.2px);
      background:
        repeating-linear-gradient(
          90deg,
          rgba(200,255,255,.0) 0 12px,
          rgba(200,255,255,.18) 12px 16px,
          rgba(200,255,255,.0) 16px 26px
        );
      mask-image: radial-gradient(circle at 50% 0%, #000 35%, transparent 70%);
      animation: surfaceDrift 7.5s ease-in-out infinite;
    }

    @keyframes surfaceDrift{
      0%   { transform: translateX(-2%) translateY(0) skewX(-2deg); }
      50%  { transform: translateX( 2%) translateY(2px) skewX( 2deg); }
      100% { transform: translateX(-2%) translateY(0) skewX(-2deg); }
    }

    /* Caustics stronger inside the "mini-sea" */
    .tank .caustics2{
      position:absolute; inset:-20%;
      opacity:.55;
      mix-blend-mode: screen;
      background:
        repeating-radial-gradient(circle at 20% 30%,
          rgba(120,220,255,.22) 0 7px,
          rgba(120,220,255,0) 8px 26px),
        repeating-radial-gradient(circle at 70% 60%,
          rgba(80,190,255,.18) 0 8px,
          rgba(80,190,255,0) 9px 30px);
      filter: blur(.3px);
      animation: causticsInWater 10s ease-in-out infinite;
    }
    @keyframes causticsInWater{
      0%   { transform: translate3d(-2%, 0%, 0) rotate(-6deg) scale(1.05); }
      50%  { transform: translate3d( 2%, 1%, 0) rotate(-9deg) scale(1.08); }
      100% { transform: translate3d(-2%, 0%, 0) rotate(-6deg) scale(1.05); }
    }

    /* Seafloor */
    .seafloor{
      position:absolute;
      left:-10%;
      right:-10%;
      bottom:-8%;
      height:38%;
      background:
        radial-gradient(circle at 30% 10%, rgba(0,0,0,.22), transparent 55%),
        radial-gradient(circle at 70% 20%, rgba(0,0,0,.18), transparent 55%),
        linear-gradient(180deg, rgba(0,20,35,.0), rgba(0,10,18,.65));
      filter: contrast(1.05);
    }

    /* Kelp silhouettes for fantasy tank vibe */
    .kelp{
      position:absolute;
      bottom:2%;
      width:140px;
      height:260px;
      opacity:.22;
      filter: blur(.2px);
      background:
        radial-gradient(circle at 50% 90%, rgba(120,240,255,.18), transparent 55%),
        linear-gradient(180deg, rgba(60,200,255,.0), rgba(60,200,255,.12));
      mask:
        radial-gradient(circle at 20% 80%, #000 20%, transparent 21%),
        radial-gradient(circle at 40% 60%, #000 26%, transparent 27%),
        radial-gradient(circle at 60% 75%, #000 22%, transparent 23%),
        radial-gradient(circle at 80% 55%, #000 28%, transparent 29%);
      border-radius: 80px;
      transform-origin: 50% 100%;
      animation: kelpSway 6.5s ease-in-out infinite;
    }
    .kelp.k1{ left:6%;  height:280px; animation-duration:7.2s; opacity:.18; }
    .kelp.k2{ left:14%; height:240px; animation-duration:6.2s; opacity:.22; }
    .kelp.k3{ right:10%; height:300px; animation-duration:7.8s; opacity:.16; }
    .kelp.k4{ right:18%; height:230px; animation-duration:6.6s; opacity:.20; }

    @keyframes kelpSway{
      0%   { transform: skewX(-6deg) rotate(-2deg); }
      50%  { transform: skewX( 6deg) rotate( 2deg); }
      100% { transform: skewX(-6deg) rotate(-2deg); }
    }

    /* Small bubbles rising from the "sea" */
    .tankBubbles{
      position:absolute; inset:0;
      opacity:.45;
      background-image:
        radial-gradient(circle, rgba(210,250,255,.35) 1px, transparent 2px),
        radial-gradient(circle, rgba(210,250,255,.25) 1px, transparent 2px),
        radial-gradient(circle, rgba(210,250,255,.18) 1px, transparent 2px);
      background-size: 260px 260px, 360px 360px, 520px 520px;
      background-position: 12% 120%, 68% 140%, 36% 160%;
      animation: bubblesRise 14s linear infinite;
      filter: blur(.2px);
    }
    @keyframes bubblesRise{
      0%   { background-position: 12% 120%, 68% 140%, 36% 160%; }
      100% { background-position: 12% -60%, 68% -80%, 36% -100%; }
    }

    /* ===== Global caustics layer ===== */
    .caustics{
      position:absolute; inset:-20%;
      pointer-events:none;
      opacity:.50;
      filter: saturate(1.2);
      mix-blend-mode: screen;
      background:
        repeating-radial-gradient(circle at 20% 30%,
          rgba(120,220,255,.16) 0 6px,
          rgba(120,220,255,0) 7px 22px),
        repeating-radial-gradient(circle at 70% 60%,
          rgba(80,190,255,.14) 0 7px,
          rgba(80,190,255,0) 8px 26px),
        repeating-radial-gradient(circle at 40% 80%,
          rgba(170,240,255,.10) 0 5px,
          rgba(170,240,255,0) 6px 20px);
      animation: causticsDrift 12s ease-in-out infinite;
      transform: rotate(-8deg);
      z-index:0;
    }
    @keyframes causticsDrift{
      0%   { transform: translate3d(-2%, -1%, 0) rotate(-8deg) scale(1.05); }
      50%  { transform: translate3d( 2%,  1%, 0) rotate(-10deg) scale(1.08); }
      100% { transform: translate3d(-2%, -1%, 0) rotate(-8deg) scale(1.05); }
    }

    /* ===== Floating particles (global) ===== */
    .particles{
      position:absolute; inset:0;
      pointer-events:none;
      opacity:.28;
      filter: blur(.2px);
      background-image:
        radial-gradient(circle, rgba(220,250,255,.35) 1px, transparent 2px),
        radial-gradient(circle, rgba(220,250,255,.25) 1px, transparent 2px),
        radial-gradient(circle, rgba(220,250,255,.18) 1px, transparent 2px);
      background-size: 220px 220px, 320px 320px, 460px 460px;
      background-position: 10% 120%, 70% 140%, 30% 160%;
      animation: particlesRise 18s linear infinite;
      z-index:0;
    }
    @keyframes particlesRise{
      0%   { background-position: 10% 120%, 70% 140%, 30% 160%; }
      100% { background-position: 10% -40%, 70% -60%, 30% -80%; }
    }

    /* ===== Stage ===== */
    .stage{
      position:absolute; inset:0;
      display:grid;
      place-items:center;
      z-index:1;
    }

    .cluster{
      width:min(1100px, 92vw);
      height:min(520px, 70vh);
      position:relative;
    }

    /* ===== Bubble buttons ===== */
    .bubble{
      position:absolute;
      width: 220px;
      height: 220px;
      border-radius: 999px;
      cursor:pointer;
      border: 1px solid rgba(200,240,255,.20);

      background:
        radial-gradient(circle at 30% 25%, rgba(255,255,255,.22), transparent 35%),
        radial-gradient(circle at 70% 70%, rgba(90,190,255,.12), transparent 45%),
        linear-gradient(145deg, var(--bubble2), var(--bubble));

      box-shadow:
        0 35px 70px rgba(0,0,0,.40),
        0 10px 26px rgba(0,0,0,.35),
        inset 0 0 0 1px rgba(255,255,255,.10);

      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);

      transition: transform .25s ease, box-shadow .25s ease, filter .25s ease;
      filter: saturate(1.15) contrast(1.05);
      transform-origin: 50% 60%;
      z-index:2;
    }

    .bubble::before{
      content:"";
      position:absolute; inset: -2px;
      border-radius:inherit;
      background:
        radial-gradient(circle at 30% 25%, rgba(255,255,255,.55), transparent 35%),
        conic-gradient(from 220deg,
          rgba(140,220,255,.0),
          rgba(140,220,255,.26),
          rgba(255,255,255,.18),
          rgba(140,220,255,.0));
      opacity:.8;
      filter: blur(.3px);
      mask: radial-gradient(circle, transparent 56%, #000 60%);
      pointer-events:none;
    }

    .bubble::after{
      content:"";
      position:absolute; inset: 10px;
      border-radius:inherit;
      background:
        linear-gradient(120deg, rgba(255,255,255,.55), rgba(255,255,255,0) 55%),
        radial-gradient(circle at 35% 30%, rgba(255,255,255,.30), transparent 45%);
      opacity:.25;
      transform: rotate(-18deg);
      pointer-events:none;
    }

    .bubble:hover{
      transform: translate3d(0,-12px,0) scale(1.03);
      box-shadow:
        0 55px 110px rgba(0,0,0,.55),
        0 0 40px rgba(100,200,255,.18),
        inset 0 0 0 1px rgba(255,255,255,.14);
      filter: saturate(1.25) contrast(1.08);
    }
    .bubble:active{ transform: translate3d(0,-6px,0) scale(1.01); }

    /* Organic floating */
    .bubble{
      animation:
        floatY var(--fy, 6.6s) ease-in-out infinite,
        floatX var(--fx, 9.5s) ease-in-out infinite,
        wobble var(--fw, 3.8s) ease-in-out infinite;
    }

    @keyframes floatY{
      0%   { top: calc(var(--top) + 0px); }
      50%  { top: calc(var(--top) - 24px); }
      100% { top: calc(var(--top) + 0px); }
    }
    @keyframes floatX{
      0%   { left: calc(var(--left) + 0px); }
      50%  { left: calc(var(--left) + 18px); }
      100% { left: calc(var(--left) + 0px); }
    }
    @keyframes wobble{
      0%   { rotate: calc(var(--rot, -2deg)); }
      50%  { rotate: calc(var(--rot, -2deg) * -1); }
      100% { rotate: calc(var(--rot, -2deg)); }
    }

    /* positions */
    .b1{ --left: 140px; --top: 170px; --fy: 6.8s; --fx: 10.2s; --fw: 3.6s; --rot: -1.6deg; }
    .b2{ --left: 430px; --top: 130px; --fy: 6.1s; --fx: 9.0s;  --fw: 3.2s; --rot:  1.2deg; }
    .b3{ --left: 740px; --top: 190px; --fy: 7.3s; --fx: 10.8s; --fw: 3.9s; --rot: -1.1deg; }

    @media (max-width: 900px){
      .cluster{ height:min(560px, 78vh); }
      .bubble{ width: 190px; height:190px; }
      .b1{ --left: 40px;  --top: 220px; }
      .b2{ --left: 260px; --top: 120px; }
      .b3{ --left: 480px; --top: 240px; }
    }
    @media (max-width: 620px){
      .cluster{ height:min(700px, 86vh); }
      .bubble{ width: 170px; height:170px; }
      .b1{ --left: 40px;  --top: 380px; }
      .b2{ --left: 150px; --top: 170px; }
      .b3{ --left: 260px; --top: 400px; }
    }

    /* ===== Fullscreen viewer ===== */
    .viewer{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      background: rgba(0,0,0,.92);
      z-index:10;
    }
    .viewer.on{ display:grid; }
    video{ width:100%; height:100%; object-fit:cover; }
    .viewer::before{
      content:"";
      position:absolute; inset:0;
      pointer-events:none;
      background: radial-gradient(circle at 50% 50%, transparent 55%, rgba(0,0,0,.55) 100%);
      z-index:1;
    }
    .viewer video{ position:relative; z-index:0; }
  </style>
</head>

<body>
  <!-- background layers -->
  <div class="caustics"></div>
  <div class="particles"></div>

  <!-- mini sea / fish-tank -->
  <div class="tank" aria-hidden="true">
    <div class="water"></div>
    <div class="waterline"></div>
    <div class="caustics2"></div>
    <div class="tankBubbles"></div>
    <div class="seafloor"></div>
    <div class="kelp k1"></div>
    <div class="kelp k2"></div>
    <div class="kelp k3"></div>
    <div class="kelp k4"></div>
  </div>

  <!-- interactive bubbles -->
  <div class="stage">
    <div class="cluster">
      <div class="bubble b1" data-set="1" aria-label="Botón 1"></div>
      <div class="bubble b2" data-set="2" aria-label="Botón 2"></div>
      <div class="bubble b3" data-set="3" aria-label="Botón 3"></div>
    </div>
  </div>

  <!-- fullscreen video viewer -->
  <div class="viewer" id="viewer" aria-hidden="true">
    <video id="player" playsinline></video>
  </div>

  <script>
    // EDITA AQUÍ: playlists por burbuja
    const PLAYLISTS = {
      1: ["videos/set1_01.mp4", "videos/set1_02.mp4", "videos/set1_03.mp4"],
      2: ["videos/set2_01.mp4", "videos/set2_02.mp4"],
      3: ["videos/set3_01.mp4", "videos/set3_02.mp4", "videos/set3_03.mp4", "videos/set3_04.mp4"],
    };

    const bubbles = document.querySelectorAll(".bubble");
    const viewer  = document.getElementById("viewer");
    const player  = document.getElementById("player");

    let currentList = [];
    let index = 0;

    function openViewer(list){
      currentList = list.slice();
      index = 0;

      viewer.classList.add("on");
      viewer.setAttribute("aria-hidden","false");

      player.src = currentList[index];
      player.controls = false;
      player.autoplay = true;
      player.loop = false;
      player.muted = false;

      player.play().catch(()=>{});
    }

    function closeViewer(){
      player.pause();
      player.removeAttribute("src");
      player.load();

      viewer.classList.remove("on");
      viewer.setAttribute("aria-hidden","true");

      currentList = [];
      index = 0;
    }

    function nextVideo(){
      if (!currentList.length) return;
      index++;
      if (index >= currentList.length){
        closeViewer();
        return;
      }
      player.src = currentList[index];
      player.play().catch(()=>{});
    }

    bubbles.forEach(b=>{
      b.addEventListener("click", ()=>{
        const setId = b.dataset.set;
        const list = PLAYLISTS[setId] || [];
        if (!list.length) return;
        openViewer(list);
      });
    });

    player.addEventListener("ended", nextVideo);

    viewer.addEventListener("click", ()=> closeViewer());

    window.addEventListener("keydown", (e)=>{
      if (e.key === "Escape") closeViewer();
    });
  </script>
</body>
</html>
